[{"D:\\perpustakaan_msi\\src\\index.js":"1","D:\\perpustakaan_msi\\src\\reportWebVitals.js":"2","D:\\perpustakaan_msi\\src\\pages\\App.js":"3","D:\\perpustakaan_msi\\src\\utils\\GlobalState.js":"4","D:\\perpustakaan_msi\\src\\pages\\home\\Home.jsx":"5","D:\\perpustakaan_msi\\src\\pages\\register\\Register.jsx":"6","D:\\perpustakaan_msi\\src\\pages\\login\\Login.jsx":"7","D:\\perpustakaan_msi\\src\\utils\\reducer.js":"8","D:\\perpustakaan_msi\\src\\utils\\types.js":"9","D:\\perpustakaan_msi\\src\\library\\AxiosLib.js":"10","D:\\perpustakaan_msi\\src\\pages\\home\\book\\Book.jsx":"11","D:\\perpustakaan_msi\\src\\assets\\icon\\PowerIcon.jsx":"12","D:\\perpustakaan_msi\\src\\assets\\icon\\LoadingIcon.jsx":"13","D:\\perpustakaan_msi\\src\\assets\\icon\\BooksIcon.jsx":"14","D:\\perpustakaan_msi\\src\\assets\\icon\\DashboardIcon.jsx":"15","D:\\perpustakaan_msi\\src\\assets\\icon\\UserIcon.jsx":"16","D:\\perpustakaan_msi\\src\\assets\\icon\\MemberIcon.jsx":"17","D:\\perpustakaan_msi\\src\\assets\\icon\\BookClosedIcon.jsx":"18","D:\\perpustakaan_msi\\src\\assets\\icon\\BookOpenIcon.jsx":"19","D:\\perpustakaan_msi\\src\\pages\\home\\member\\Member.jsx":"20","D:\\perpustakaan_msi\\src\\pages\\home\\dashboard\\Dashboard.jsx":"21","D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\ReturnBook.jsx":"22","D:\\perpustakaan_msi\\src\\pages\\home\\borrowbook\\BorrowBook.jsx":"23","D:\\perpustakaan_msi\\src\\assets\\icon\\PlusIcon.jsx":"24","D:\\perpustakaan_msi\\src\\pages\\home\\book\\mcomponents\\CreateBookModal.jsx":"25","D:\\perpustakaan_msi\\src\\pages\\home\\book\\mcomponents\\ListBook.jsx":"26","D:\\perpustakaan_msi\\src\\pages\\home\\member\\mcomponent\\UpdateMemberModal.jsx":"27","D:\\perpustakaan_msi\\src\\pages\\home\\member\\mcomponent\\CreateMemberModal.jsx":"28","D:\\perpustakaan_msi\\src\\pages\\home\\book\\mcomponents\\UpdateBookModal.jsx":"29","D:\\perpustakaan_msi\\src\\pages\\home\\member\\mcomponent\\ListMember.jsx":"30","D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\ListMember.jsx":"31","D:\\perpustakaan_msi\\src\\assets\\icon\\CloseIcon.jsx":"32","D:\\perpustakaan_msi\\src\\assets\\icon\\TrashIcon.jsx":"33","D:\\perpustakaan_msi\\src\\assets\\icon\\BookIcon.jsx":"34","D:\\perpustakaan_msi\\src\\assets\\icon\\PenIcon.jsx":"35","D:\\perpustakaan_msi\\src\\assets\\icon\\VeritifyUser.jsx":"36","D:\\perpustakaan_msi\\src\\assets\\icon\\IdCardIcon.jsx":"37","D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\RowBukuPinjam.jsx":"38","D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\PerpanjangPeminjamanModal.jsx":"39","D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\KembaliBukuModal.jsx":"40"},{"size":500,"mtime":1611614274536,"results":"41","hashOfConfig":"42"},{"size":375,"mtime":1611614274542,"results":"43","hashOfConfig":"42"},{"size":663,"mtime":1611614274536,"results":"44","hashOfConfig":"42"},{"size":524,"mtime":1611614274543,"results":"45","hashOfConfig":"42"},{"size":4156,"mtime":1611919398899,"results":"46","hashOfConfig":"42"},{"size":2925,"mtime":1611921201440,"results":"47","hashOfConfig":"42"},{"size":2086,"mtime":1611921169125,"results":"48","hashOfConfig":"42"},{"size":1416,"mtime":1611614274543,"results":"49","hashOfConfig":"42"},{"size":393,"mtime":1611614274543,"results":"50","hashOfConfig":"42"},{"size":696,"mtime":1611614274536,"results":"51","hashOfConfig":"42"},{"size":2774,"mtime":1611919398899,"results":"52","hashOfConfig":"42"},{"size":945,"mtime":1611614274535,"results":"53","hashOfConfig":"42"},{"size":1323,"mtime":1611614274534,"results":"54","hashOfConfig":"42"},{"size":777,"mtime":1611614274533,"results":"55","hashOfConfig":"42"},{"size":3238,"mtime":1611614274534,"results":"56","hashOfConfig":"42"},{"size":1644,"mtime":1611614274535,"results":"57","hashOfConfig":"42"},{"size":1088,"mtime":1611614274535,"results":"58","hashOfConfig":"42"},{"size":1447,"mtime":1611614274533,"results":"59","hashOfConfig":"42"},{"size":1270,"mtime":1611614274533,"results":"60","hashOfConfig":"42"},{"size":2829,"mtime":1611919398900,"results":"61","hashOfConfig":"42"},{"size":2313,"mtime":1611920280364,"results":"62","hashOfConfig":"42"},{"size":1986,"mtime":1611919398901,"results":"63","hashOfConfig":"42"},{"size":8689,"mtime":1611919398900,"results":"64","hashOfConfig":"42"},{"size":1019,"mtime":1611614274535,"results":"65","hashOfConfig":"42"},{"size":4227,"mtime":1611614274538,"results":"66","hashOfConfig":"42"},{"size":3328,"mtime":1611614274538,"results":"67","hashOfConfig":"42"},{"size":2519,"mtime":1611919398901,"results":"68","hashOfConfig":"42"},{"size":2907,"mtime":1611614274540,"results":"69","hashOfConfig":"42"},{"size":3879,"mtime":1611919398899,"results":"70","hashOfConfig":"42"},{"size":2798,"mtime":1611919398901,"results":"71","hashOfConfig":"42"},{"size":1250,"mtime":1611919519983,"results":"72","hashOfConfig":"42"},{"size":1011,"mtime":1611614274534,"results":"73","hashOfConfig":"42"},{"size":1030,"mtime":1611614274535,"results":"74","hashOfConfig":"42"},{"size":1289,"mtime":1611614274533,"results":"75","hashOfConfig":"42"},{"size":943,"mtime":1611614274535,"results":"76","hashOfConfig":"42"},{"size":1706,"mtime":1611614274535,"results":"77","hashOfConfig":"42"},{"size":2289,"mtime":1611614274534,"results":"78","hashOfConfig":"42"},{"size":3121,"mtime":1611919398903,"results":"79","hashOfConfig":"42"},{"size":3522,"mtime":1611919545644,"results":"80","hashOfConfig":"42"},{"size":3269,"mtime":1611919398902,"results":"81","hashOfConfig":"42"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"joy2qr",{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"84"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"84"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"84"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"84"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"167","usedDeprecatedRules":"84"},"D:\\perpustakaan_msi\\src\\index.js",[],["168","169"],"D:\\perpustakaan_msi\\src\\reportWebVitals.js",[],"D:\\perpustakaan_msi\\src\\pages\\App.js",[],"D:\\perpustakaan_msi\\src\\utils\\GlobalState.js",[],"D:\\perpustakaan_msi\\src\\pages\\home\\Home.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\register\\Register.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\login\\Login.jsx",[],"D:\\perpustakaan_msi\\src\\utils\\reducer.js",[],"D:\\perpustakaan_msi\\src\\utils\\types.js",[],"D:\\perpustakaan_msi\\src\\library\\AxiosLib.js",[],"D:\\perpustakaan_msi\\src\\pages\\home\\book\\Book.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\PowerIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\LoadingIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\BooksIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\DashboardIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\UserIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\MemberIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\BookClosedIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\BookOpenIcon.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\member\\Member.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\dashboard\\Dashboard.jsx",["170","171"],"import { useEffect, useState } from 'react';\r\nimport { useStateGlobal } from '../../../utils/GlobalState';\r\nimport ReactApexChart from 'react-apexcharts';\r\n\r\nimport './Dashboard.css';\r\n\r\nexport default function Dashboard() {\r\n  const [state] = useStateGlobal();\r\n  const [borrower, setBorrower] = useState(0);\r\n  const [dataChart, setDataChart] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let dtchrt = [];\r\n    document.title = 'Perpustakaan';\r\n    \r\n    //cari member yang punya pinjaman buku\r\n    if (state.member !== null) {\r\n      const rs = state.member.filter((e) => {\r\n        return e.borrowedBooks.length !== 0\r\n      });\r\n      setBorrower(rs.length);\r\n    }\r\n    //ini belum, work-in-progress\r\n    state.member &&\r\n      state.member\r\n        .filter((e) => {\r\n          return e.borrowedBooks.length !== 0;\r\n        })\r\n        .map((e) => {\r\n          return dtchrt.push({\r\n            x: e.name,\r\n            y: [\r\n              new Date(e.borrowedBooks.borrowedDate).getTime(),\r\n              new Date(e.borrowedBooks.schedule).getTime(),\r\n            ],\r\n          });\r\n        });\r\n    setDataChart(dtchrt);\r\n  }, [state]);\r\n  return (\r\n    <section className='dashboard content'>\r\n      <div>\r\n        <div>\r\n          <span>Total Buku</span>\r\n          <span>{state.book !== null ? state.book.length : 0}</span>\r\n        </div>\r\n        <div>\r\n          <span>Total Member</span>\r\n          <span>{state.member !== null ? state.member.length : 0}</span>\r\n        </div>\r\n        <div>\r\n          <span>Jumlah Peminjam</span>\r\n          <span>{borrower}</span>\r\n        </div>\r\n      </div>\r\n      {/* <div>\r\n        <span>Peminjam Buku</span>\r\n        {dataChart.length !== 0 && (\r\n          <ReactApexChart\r\n            options={{\r\n              chart: {\r\n                height: 350,\r\n                type: 'rangeBar',\r\n              },\r\n              plotOptions: {\r\n                bar: {\r\n                  horizontal: true,\r\n                },\r\n              },\r\n              xaxis: {\r\n                type: 'datetime',\r\n              },\r\n            }}\r\n            series={[\r\n              {\r\n                data: dataChart,\r\n              },\r\n            ]}\r\n            type='rangeBar'\r\n            height={350}\r\n          />\r\n        )}\r\n      </div> */}\r\n    </section>\r\n  );\r\n}\r\n","D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\ReturnBook.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\borrowbook\\BorrowBook.jsx",["172","173","174","175","176","177","178","179","180","181","182"],"import { useEffect, useState, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useStateGlobal } from '../../../utils/GlobalState';\r\nimport { patchData, getData } from '../../../library/AxiosLib';\r\nimport { GET_DATA, UPDATE_MEMBER } from '../../../utils/types';\r\nimport { ServerURL } from '../../../config/default.json';\r\nimport './BorrowBook.css';\r\n\r\nexport default function BorrowBook() {\r\n  const [memberNotBorrowBook, setMemberNotBorrowBook] = useState(null);\r\n  const [count, setCount] = useState([]);\r\n  const [inputBook, setInputBook] = useState([]);\r\n  const [nameBook, setNameBook] = useState([]);\r\n  const [inputMember, setInputMember] = useState('');\r\n  const [day, setDay] = useState();\r\n  const formRef = useRef();\r\n  const [state, dispatch] = useStateGlobal();\r\n\r\n  const history = useHistory();\r\n  const MAX_BORROW = 5\r\n\r\n  useEffect(() => {\r\n    if (state.member !== null && state.member !== undefined) {\r\n      //find members that can still borrow books\r\n      //i.e. members that have less than five borrowed books\r\n      const mmbrNtBr = state.member.filter((e) => {\r\n        return e.borrowedBooks.length < MAX_BORROW;\r\n      });\r\n      setMemberNotBorrowBook(mmbrNtBr);\r\n    }\r\n  }, [state]);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    dispatch({ type: UPDATE_MEMBER, loading: true });\r\n    \r\n    //update the data of the borrowed book\r\n    //particularly the number of available book is going to decrease by 1\r\n    inputBook.map(async (e) => {\r\n      const book = state.book.filter((f) => f._id === e);\r\n      const availableChange = book[0].available - 1;\r\n      await patchData(\r\n        `${ServerURL}/book/${e}`,\r\n        { available: availableChange },\r\n        localStorage.getItem('token')\r\n      );\r\n    });\r\n\r\n\r\n    //update member data\r\n\r\n    //find member data that was inputted into 'Peminjam Buku'\r\n    const member = state.member.filter(m=>{\r\n      if(m._id === inputMember)\r\n        return m\r\n    })[0]\r\n\r\n    //get the member's borrowedBooks data\r\n    //update the borrowedBooks data with new borrow book data\r\n    var borrowedBooks = member.borrowedBooks;\r\n    const date = new Date(Date.now() + 3600 * 1000 * day);\r\n    inputBook.forEach(b=>{\r\n      borrowedBooks.push({\r\n        book:b,\r\n        schedule:date\r\n      })\r\n    })\r\n\r\n    //send request to update member's borrowedBooks data \r\n    const changeMember = await patchData(\r\n      `${ServerURL}/member/${inputMember.substring(0, 24)}`,\r\n      {borrowedBooks},\r\n      localStorage.getItem('token')\r\n    );\r\n    \r\n    //as the transaction succesful, get data member \r\n    //and get data book again\r\n    if (changeMember) {\r\n      const getDataMember = await getData(\r\n        `${ServerURL}/member`,\r\n        localStorage.getItem('token')\r\n      );\r\n      const getDataBook = await getData(\r\n        `${ServerURL}/book`,\r\n        localStorage.getItem('token')\r\n      );\r\n      if (getDataMember && getDataBook) {\r\n        dispatch({\r\n          type: GET_DATA,\r\n          book: getDataBook.data.book,\r\n          member: getDataMember.data.member,\r\n          loading: false,\r\n        });\r\n        alert('success');\r\n        history.push('/home/kembali');\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleClickPlus() {\r\n    if(inputMember !== ''){\r\n      //cari jumlah buku yang dipinjam member\r\n      const member = state.member.filter(m=>{\r\n        if(m._id === inputMember){\r\n          return m\r\n        }\r\n      })\r\n      const amountOfBorrowedBook = member[0].borrowedBooks.length\r\n      \r\n      //set jumlah input 'Tambah Buku'\r\n      if (count.length <= 4-amountOfBorrowedBook) {\r\n        setCount([...count, count.length + 1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleChangeBook(e) {\r\n    //cari data buku sesuai dengan yang diinputkan ke dalam input Tambah Buku\r\n    //set ke dalam array InputBook dan NameBook (list buku yang akan dipinjam)\r\n    const book = e.bookAvilable.filter(b=>{\r\n      if (b.title === e.target.value){\r\n        return b\r\n      }\r\n    })\r\n    if(book.length != 0){\r\n      setInputBook([\r\n        ...inputBook, \r\n        (inputBook[Number(e.target.id)] = book[0]._id)\r\n      ]);\r\n      setNameBook([\r\n        ...nameBook,\r\n        (nameBook[Number(e.target.id)] = book[0].title)\r\n      ]);\r\n    }\r\n  }\r\n\r\n  function handleOnchengeInputMember(e) {\r\n    //cari dan set data member sesuai dengan input ke dalam input member\r\n    //set ke variabel InputMember\r\n    const member = memberNotBorrowBook.filter(m=>{\r\n      if (m.name === e.target.value){\r\n        return m\r\n      }\r\n    })\r\n    if(member.length != 0)\r\n      setInputMember(member[0]._id);\r\n  }\r\n\r\n  //ubah hari ke dalam format 24 jam\r\n  function handleChangeDay(e) {\r\n    setDay(Number(e.target.value) * 24);\r\n  }\r\n\r\n  //render komponen BookInput (input buku yang bakal dipinjam)\r\n  //jumlahnya sama dengan variabel count\r\n  function generateBookInput(){\r\n    var bookInput = [];\r\n    for(var i=0;i<count.length;i++){\r\n      bookInput.push(\r\n        <BookInput\r\n          memberId={inputMember}\r\n          ocChangeProps={handleChangeBook}\r\n          key={i}\r\n          name={`inputBook${i}`}\r\n          id={i}\r\n          bookSelect={nameBook}\r\n        />\r\n      )\r\n    }\r\n    return bookInput;\r\n  }\r\n\r\n  return (\r\n    <section className='borrowbook content'>\r\n      <form onSubmit={handleSubmit} ref={formRef}>\r\n        <div>\r\n          <span>Pilih Peminjam</span>\r\n          <input\r\n            type=\"text\"\r\n            list='member'\r\n            placeholder='Pilih peminjam Buku'\r\n            onChange={handleOnchengeInputMember}\r\n          />\r\n          <datalist id='member'>\r\n            {memberNotBorrowBook !== null &&\r\n              memberNotBorrowBook.map((e) => {\r\n                return (\r\n                  <option key={e._id} value={e.name}>\r\n                    {e.name}\r\n                  </option>\r\n                );\r\n              })}\r\n          </datalist>\r\n        </div>\r\n        <div>\r\n          <span>Pilih Buku</span>\r\n          <button type='button' onClick={handleClickPlus}>\r\n            Tambah\r\n          </button>\r\n          {\r\n            generateBookInput()\r\n          }\r\n          <div className='inputHari'>\r\n            <input\r\n              type='number'\r\n              onChange={handleChangeDay}\r\n              min='1'\r\n              max='30'\r\n              required\r\n            />\r\n            <span>Hari</span>\r\n          </div>\r\n        </div>\r\n        <button type='submit'>Submit</button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\n//This is the input box that shows up after we click tambah button\r\nfunction BookInput(props) {\r\n  const [bookAvilable, setBookAvilable] = useState(null);\r\n  const [state] = useStateGlobal();\r\n  const [book1, book2, book3, book4, book5] = props.bookSelect;\r\n\r\n  useEffect(() => {\r\n    if (state.book !== null && state.book !== undefined) {\r\n      //cari buku yang available (bisa dipinjam)\r\n      //kriterianya:\r\n      //  1. jumlahnya lebih dari 0\r\n      //  2. belum pernah dipinjam sebelumnya\r\n      //  3. tidak ada dalam daftar list BookInput (buku yang akan dipinjam)\r\n      const bookAvilable = state.book.filter((e) => {\r\n        var available=true;\r\n        if(props.memberId){\r\n          const member = state.member.filter(m=>{\r\n            if(m._id === props.memberId){\r\n              return m\r\n            }\r\n          })\r\n          const memberBorrowedBookIds = member[0].borrowedBooks.map(b=>{\r\n            return b.book\r\n          })\r\n          memberBorrowedBookIds.forEach(id=>{\r\n            if (e._id === id){\r\n              available=false;\r\n              return;\r\n            }\r\n          })\r\n          if(available == false){\r\n            return;\r\n          }\r\n\r\n          if(e.available !== 0 &&\r\n            e.title !== book1 &&\r\n            e.title !== book2 &&\r\n            e.title !== book3 &&\r\n            e.title !== book4 &&\r\n            e.title !== book5  \r\n          ){\r\n            return e\r\n          }\r\n        }\r\n      });\r\n      setBookAvilable(bookAvilable);\r\n    }\r\n  }, [state, book1, book2, book3, book4, book5]);\r\n\r\n  function handleChange(e) {\r\n    e.bookAvilable = bookAvilable;\r\n    props.ocChangeProps(e);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        autoComplete=\"off\"\r\n        list='book'\r\n        name={props.name}\r\n        placeholder='Pilih buku yang di Pinjam'\r\n        onChange={handleChange}\r\n        id={props.id}\r\n      />\r\n      <datalist id='book'>\r\n        {bookAvilable !== null &&\r\n          bookAvilable.map((e, i) => {\r\n            return (\r\n              <option key={i} value={e.title}>\r\n                {e.title}\r\n              </option>\r\n            );\r\n          })}\r\n      </datalist>\r\n    </div>\r\n  );\r\n}\r\n","D:\\perpustakaan_msi\\src\\assets\\icon\\PlusIcon.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\book\\mcomponents\\CreateBookModal.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\book\\mcomponents\\ListBook.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\member\\mcomponent\\UpdateMemberModal.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\member\\mcomponent\\CreateMemberModal.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\book\\mcomponents\\UpdateBookModal.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\member\\mcomponent\\ListMember.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\ListMember.jsx",["183"],"import IdCardIcon from '../../../../assets/icon/IdCardIcon';\r\nimport VeritifyUser from '../../../../assets/icon/VeritifyUser';\r\nimport RowBukuPinjam from './RowBukuPinjam';\r\nimport { useStateGlobal } from '../../../../utils/GlobalState';\r\n\r\nexport default function ListMember(props) {\r\n  \r\n  const [state, dispatch] = useStateGlobal();\r\n\r\n  return (\r\n    <div className='listMember'>\r\n      <div className=\"content\">\r\n        <VeritifyUser height='70px' width='70px' color='#5a32a3' />\r\n        <div className=\"info\">\r\n          <span>{props.name}</span>\r\n          <span> | </span>\r\n          <span>{props.kelas}</span>\r\n          <ol>\r\n            {props.borrowedBooks.map((b, i) => {\r\n              const bookData = state.book.filter((c) => c._id === b.book);\r\n              return (\r\n                <RowBukuPinjam key={i}\r\n                  bookData={bookData}\r\n                  b={b}//b is a single instance of a borrow record\r\n                  borrowedBooks={props.borrowedBooks}\r\n                  member_id = {props.id}\r\n                ></RowBukuPinjam>\r\n              )              \r\n            })}\r\n          </ol>\r\n        </div>\r\n      </div>\r\n      <IdCardIcon height='200px' width='200px' color='#e1e4e8' />\r\n    </div>\r\n  );\r\n}\r\n","D:\\perpustakaan_msi\\src\\assets\\icon\\CloseIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\TrashIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\BookIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\PenIcon.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\VeritifyUser.jsx",[],"D:\\perpustakaan_msi\\src\\assets\\icon\\IdCardIcon.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\RowBukuPinjam.jsx",[],"D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\PerpanjangPeminjamanModal.jsx",["184","185"],"import { useEffect, useRef, useState } from 'react';\r\nimport { patchData, getData } from '../../../../library/AxiosLib';\r\nimport { useStateGlobal } from '../../../../utils/GlobalState';\r\nimport { ServerURL } from '../../../../config/default.json';\r\nimport { GET_DATA, UPDATE_MEMBER } from '../../../../utils/types';\r\nimport CloseIcon from '../../../../assets/icon/CloseIcon';\r\n\r\nexport default function PerpanjangPeminjamanModal({ handleGetRefPerpanjangPeminjaman,book,borrowed,borrowedBooks,denda,member_id }) {\r\n  const modalCreate = useRef(null);\r\n  const formInput = useRef(null);\r\n  const [day, setDay] = useState();\r\n  const [state, dispatch] = useStateGlobal();\r\n\r\n  useEffect(() => {\r\n    handleGetRefPerpanjangPeminjaman(modalCreate);\r\n  }, [handleGetRefPerpanjangPeminjaman]);\r\n\r\n  function closeModalCrete() {\r\n    if(modalCreate.current)\r\n      modalCreate.current.style.visibility = 'hidden';\r\n  }\r\n\r\n  async function handleSubmitPerpanjangPeminjaman(e) {\r\n    if (window.confirm('perpanjang peminjaman')) {\r\n      dispatch({ type: UPDATE_MEMBER, loading: true });\r\n      \r\n      //ubah schedule entri peminjaman yang mau diperpanjang dari list borrowedBooks\r\n      const currentScheduleDate=Date.parse(borrowed.schedule);\r\n      const newScheduledate = new Date(currentScheduleDate + 3600 * 1000 * day);    \r\n      borrowedBooks = borrowedBooks.map(borrowedBook=>{\r\n        if(borrowedBook.book == borrowed.book)\r\n          borrowedBook.schedule = newScheduledate\r\n        return borrowedBook\r\n      })\r\n\r\n      //update record borrowedBooks member\r\n      const data = {\r\n        borrowedBooks\r\n      }\r\n      const changeMember = await patchData(\r\n        `${ServerURL}/member/${member_id}`,\r\n        data,\r\n        localStorage.getItem('token')\r\n      );\r\n\r\n      //update data peminjaman buku\r\n      if (changeMember) {\r\n        const getDataMember = await getData(\r\n          `${ServerURL}/member`,\r\n          localStorage.getItem('token')\r\n        );\r\n        const getDataBook = await getData(\r\n          `${ServerURL}/book`,\r\n          localStorage.getItem('token')\r\n        );\r\n        if (getDataMember && getDataBook) {\r\n          dispatch({\r\n            type: GET_DATA,\r\n            book: getDataBook.data.book,\r\n            member: getDataMember.data.member,\r\n            loading: false,\r\n          });\r\n          alert('success');\r\n          closeModalCrete();\r\n        }\r\n      }\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n  function handleChangeDay(e) {\r\n    setDay(Number(e.target.value) * 24);//convert from days to hours\r\n  }\r\n\r\n  return (\r\n    <div className='containerModalCreate modal' ref={modalCreate}>\r\n      <div>\r\n        <form onSubmit={handleSubmitPerpanjangPeminjaman} ref={formInput}>\r\n          <div>\r\n            <span>Perpanjang Peminjaman ({book.title})</span>\r\n            <div onClick={closeModalCrete}>\r\n              <CloseIcon height='20px' width='20px' color='black' />\r\n            </div>\r\n          </div>\r\n          <span className=\"info\">Jadwal Kembali: {borrowed.schedule.substring(0, 10)}</span>\r\n          <span className=\"info\">Denda: {denda}</span>  \r\n          <div className='info inputHari inputHari-perpanjang-peminjaman-modal'>\r\n            <input\r\n              type='number'\r\n              onChange={handleChangeDay}\r\n              min='1'\r\n              max='30'\r\n              required\r\n            />\r\n            <span>Hari</span>\r\n          </div>\r\n          <button type='submit'>Submit</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","D:\\perpustakaan_msi\\src\\pages\\home\\returnbook\\mcomponent\\KembaliBukuModal.jsx",["186","187","188","189"],"import { useEffect, useRef, useState } from 'react';\r\nimport { useStateGlobal } from '../../../../utils/GlobalState';\r\nimport { ServerURL } from '../../../../config/default.json';\r\nimport { GET_DATA, UPDATE_MEMBER } from '../../../../utils/types';\r\nimport CloseIcon from '../../../../assets/icon/CloseIcon';\r\nimport { patchData, getData } from '../../../../library/AxiosLib';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function KembaliBukuModal({ handleGetRefKembaliBuku,book,borrowed,denda,borrowedBooks,member_id }) {\r\n  const modalCreate = useRef(null);\r\n  const formInput = useRef(null);\r\n  const [state, dispatch] = useStateGlobal();\r\n  \r\n  useEffect(() => {\r\n    handleGetRefKembaliBuku(modalCreate);\r\n  }, [handleGetRefKembaliBuku]);\r\n\r\n  function closeModalCrete() {\r\n    if(modalCreate.current)\r\n      modalCreate.current.style.visibility = 'hidden';\r\n  }\r\n\r\n  async function handleSubmitKembaliBuku(e) {\r\n    if (window.confirm('return books')) {\r\n      dispatch({ type: UPDATE_MEMBER, loading: true });\r\n      \r\n      //update data buku setelah dikembalikan\r\n      //when the book return, add 1 for the number of available book\r\n      const bookData = state.book.filter((c)=>c._id === borrowed.book)\r\n      const availableChange = bookData[0].available + 1;\r\n        await patchData(\r\n          `${ServerURL}/book/${borrowed.book}`,\r\n          { available: availableChange },\r\n          localStorage.getItem('token')\r\n        );\r\n\r\n      //update data member\r\n      //remove entri peminjaman yang mau dikembalikan dari list borrowedBooks\r\n      borrowedBooks = borrowedBooks.filter(borrowedBook=>{\r\n        if(borrowedBook.book != borrowed.book)\r\n          return borrowedBook\r\n      })\r\n      const changeMember = await patchData(\r\n        `${ServerURL}/member/${member_id}`,\r\n        {borrowedBooks},\r\n        localStorage.getItem('token')\r\n      );\r\n\r\n      //update data setelah pengembalian selesai\r\n      if (changeMember) {\r\n        const getDataMember = await getData(\r\n          `${ServerURL}/member`,\r\n          localStorage.getItem('token')\r\n        );\r\n        const getDataBook = await getData(\r\n          `${ServerURL}/book`,\r\n          localStorage.getItem('token')\r\n        );\r\n        if (getDataMember && getDataBook) {\r\n          dispatch({\r\n            type: GET_DATA,\r\n            book: getDataBook.data.book,\r\n            member: getDataMember.data.member,\r\n            loading: false,\r\n          });\r\n          alert('success');\r\n          closeModalCrete();\r\n        }\r\n      }\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <div className='containerModalCreate modal kembali-buku-modal' ref={modalCreate}>\r\n      <div className=\"kembali-buku-modal\">\r\n        <form onSubmit={handleSubmitKembaliBuku} ref={formInput}>\r\n          <div>\r\n            <span>Kembali Buku ({book.title})</span>\r\n            <div onClick={closeModalCrete}>\r\n              <CloseIcon height='20px' width='20px' color='black' />\r\n            </div>\r\n          </div>\r\n          <span className=\"info\">Jadwal Kembali: {borrowed.schedule.substring(0, 10)}</span>\r\n          <span className=\"info\">Denda: {denda}</span>  \r\n          <button type='submit'>Kembali Buku</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",{"ruleId":"190","replacedBy":"191"},{"ruleId":"192","replacedBy":"193"},{"ruleId":"194","severity":1,"message":"195","line":3,"column":8,"nodeType":"196","messageId":"197","endLine":3,"endColumn":22},{"ruleId":"194","severity":1,"message":"198","line":10,"column":10,"nodeType":"196","messageId":"197","endLine":10,"endColumn":19},{"ruleId":"199","severity":1,"message":"200","line":53,"column":41,"nodeType":"201","messageId":"202","endLine":53,"endColumn":43},{"ruleId":"199","severity":1,"message":"200","line":103,"column":43,"nodeType":"201","messageId":"202","endLine":103,"endColumn":45},{"ruleId":"199","severity":1,"message":"200","line":120,"column":41,"nodeType":"201","messageId":"202","endLine":120,"endColumn":43},{"ruleId":"203","severity":1,"message":"204","line":125,"column":20,"nodeType":"205","messageId":"206","endLine":125,"endColumn":22},{"ruleId":"199","severity":1,"message":"200","line":140,"column":48,"nodeType":"201","messageId":"202","endLine":140,"endColumn":50},{"ruleId":"203","severity":1,"message":"204","line":145,"column":22,"nodeType":"205","messageId":"206","endLine":145,"endColumn":24},{"ruleId":"199","severity":1,"message":"200","line":233,"column":50,"nodeType":"201","messageId":"202","endLine":233,"endColumn":52},{"ruleId":"199","severity":1,"message":"200","line":236,"column":47,"nodeType":"201","messageId":"202","endLine":236,"endColumn":49},{"ruleId":"203","severity":1,"message":"207","line":250,"column":24,"nodeType":"205","messageId":"206","endLine":250,"endColumn":26},{"ruleId":"199","severity":1,"message":"208","line":251,"column":13,"nodeType":"209","messageId":"210","endLine":251,"endColumn":20},{"ruleId":"211","severity":1,"message":"212","line":267,"column":6,"nodeType":"213","endLine":267,"endColumn":48,"suggestions":"214"},{"ruleId":"194","severity":1,"message":"215","line":8,"column":17,"nodeType":"196","messageId":"197","endLine":8,"endColumn":25},{"ruleId":"194","severity":1,"message":"216","line":12,"column":10,"nodeType":"196","messageId":"197","endLine":12,"endColumn":15},{"ruleId":"203","severity":1,"message":"207","line":31,"column":30,"nodeType":"205","messageId":"206","endLine":31,"endColumn":32},{"ruleId":"194","severity":1,"message":"217","line":1,"column":29,"nodeType":"196","messageId":"197","endLine":1,"endColumn":37},{"ruleId":"194","severity":1,"message":"218","line":7,"column":10,"nodeType":"196","messageId":"197","endLine":7,"endColumn":20},{"ruleId":"199","severity":1,"message":"200","line":39,"column":56,"nodeType":"201","messageId":"202","endLine":39,"endColumn":58},{"ruleId":"203","severity":1,"message":"204","line":40,"column":30,"nodeType":"205","messageId":"206","endLine":40,"endColumn":32},"no-native-reassign",["219"],"no-negated-in-lhs",["220"],"no-unused-vars","'ReactApexChart' is defined but never used.","Identifier","unusedVar","'dataChart' is assigned a value but never used.","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","Array.prototype.filter() expects a return value from arrow function.","ReturnStatement","expectedReturnValue","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.memberId'. Either include it or remove the dependency array.","ArrayExpression",["221"],"'dispatch' is assigned a value but never used.","'state' is assigned a value but never used.","'useState' is defined but never used.","'useHistory' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"222","fix":"223"},"Update the dependencies array to be: [state, book1, book2, book3, book4, book5, props.memberId]",{"range":"224","text":"225"},[8015,8057],"[state, book1, book2, book3, book4, book5, props.memberId]"]