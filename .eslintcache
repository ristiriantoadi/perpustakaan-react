[{"/home/ristirianto/perpustakaan_msi_zhafran/src/index.js":"1","/home/ristirianto/perpustakaan_msi_zhafran/src/reportWebVitals.js":"2","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/App.js":"3","/home/ristirianto/perpustakaan_msi_zhafran/src/utils/GlobalState.js":"4","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/login/Login.jsx":"5","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/register/Register.jsx":"6","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/Home.jsx":"7","/home/ristirianto/perpustakaan_msi_zhafran/src/utils/reducer.js":"8","/home/ristirianto/perpustakaan_msi_zhafran/src/utils/types.js":"9","/home/ristirianto/perpustakaan_msi_zhafran/src/library/AxiosLib.js":"10","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/UserIcon.jsx":"11","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/LoadingIcon.jsx":"12","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/MemberIcon.jsx":"13","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BookClosedIcon.jsx":"14","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/PowerIcon.jsx":"15","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BookOpenIcon.jsx":"16","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/dashboard/Dashboard.jsx":"17","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/DashboardIcon.jsx":"18","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/borrowbook/BorrowBook.jsx":"19","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/Member.jsx":"20","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/ReturnBook.jsx":"21","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BooksIcon.jsx":"22","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/Book.jsx":"23","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/PlusIcon.jsx":"24","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/mcomponent/UpdateMemberModal.jsx":"25","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/mcomponent/CreateMemberModal.jsx":"26","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/mcomponents/UpdateBookModal.jsx":"27","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/mcomponent/ListMember.jsx":"28","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/mcomponents/ListBook.jsx":"29","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/mcomponents/CreateBookModal.jsx":"30","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/ListMember.jsx":"31","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/CloseIcon.jsx":"32","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/PenIcon.jsx":"33","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/TrashIcon.jsx":"34","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/IdCardIcon.jsx":"35","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BookIcon.jsx":"36","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/RowBukuPinjam.jsx":"37","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/VeritifyUser.jsx":"38","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/KembaliBukuModal.jsx":"39","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/PerpanjangPeminjamanModal.jsx":"40"},{"size":484,"mtime":1611586891063,"results":"41","hashOfConfig":"42"},{"size":362,"mtime":1611586891231,"results":"43","hashOfConfig":"42"},{"size":642,"mtime":1611586891083,"results":"44","hashOfConfig":"42"},{"size":504,"mtime":1611586891255,"results":"45","hashOfConfig":"42"},{"size":2014,"mtime":1613183611464,"results":"46","hashOfConfig":"42"},{"size":2819,"mtime":1612143941582,"results":"47","hashOfConfig":"42"},{"size":4038,"mtime":1611900490704,"results":"48","hashOfConfig":"42"},{"size":1352,"mtime":1611586891255,"results":"49","hashOfConfig":"42"},{"size":382,"mtime":1611586891255,"results":"50","hashOfConfig":"42"},{"size":659,"mtime":1611586891079,"results":"51","hashOfConfig":"42"},{"size":1630,"mtime":1611586891047,"results":"52","hashOfConfig":"42"},{"size":1284,"mtime":1611586891047,"results":"53","hashOfConfig":"42"},{"size":1047,"mtime":1611586891047,"results":"54","hashOfConfig":"42"},{"size":1407,"mtime":1611586891043,"results":"55","hashOfConfig":"42"},{"size":929,"mtime":1611586891047,"results":"56","hashOfConfig":"42"},{"size":1234,"mtime":1611586891047,"results":"57","hashOfConfig":"42"},{"size":2227,"mtime":1612143941542,"results":"58","hashOfConfig":"42"},{"size":3184,"mtime":1611586891047,"results":"59","hashOfConfig":"42"},{"size":8393,"mtime":1611899286456,"results":"60","hashOfConfig":"42"},{"size":2736,"mtime":1611899592789,"results":"61","hashOfConfig":"42"},{"size":1917,"mtime":1611900531472,"results":"62","hashOfConfig":"42"},{"size":745,"mtime":1611586891047,"results":"63","hashOfConfig":"42"},{"size":2685,"mtime":1611897959771,"results":"64","hashOfConfig":"42"},{"size":984,"mtime":1611586891047,"results":"65","hashOfConfig":"42"},{"size":2432,"mtime":1611899557492,"results":"66","hashOfConfig":"42"},{"size":2814,"mtime":1611586891179,"results":"67","hashOfConfig":"42"},{"size":3742,"mtime":1611898069714,"results":"68","hashOfConfig":"42"},{"size":2708,"mtime":1611899534188,"results":"69","hashOfConfig":"42"},{"size":3227,"mtime":1611586891123,"results":"70","hashOfConfig":"42"},{"size":4078,"mtime":1611586891123,"results":"71","hashOfConfig":"42"},{"size":1214,"mtime":1612143941558,"results":"72","hashOfConfig":"42"},{"size":976,"mtime":1611586891047,"results":"73","hashOfConfig":"42"},{"size":910,"mtime":1611586891047,"results":"74","hashOfConfig":"42"},{"size":996,"mtime":1611586891047,"results":"75","hashOfConfig":"42"},{"size":2237,"mtime":1611586891047,"results":"76","hashOfConfig":"42"},{"size":1264,"mtime":1611586891047,"results":"77","hashOfConfig":"42"},{"size":3032,"mtime":1611900133118,"results":"78","hashOfConfig":"42"},{"size":1664,"mtime":1611586891051,"results":"79","hashOfConfig":"42"},{"size":3178,"mtime":1611900282489,"results":"80","hashOfConfig":"42"},{"size":3420,"mtime":1612143941558,"results":"81","hashOfConfig":"42"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"t1f631",{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"84"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"84"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"84"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"84"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"167","usedDeprecatedRules":"168"},"/home/ristirianto/perpustakaan_msi_zhafran/src/index.js",[],["169","170"],"/home/ristirianto/perpustakaan_msi_zhafran/src/reportWebVitals.js",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/App.js",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/utils/GlobalState.js",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/login/Login.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/register/Register.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/Home.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/utils/reducer.js",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/utils/types.js",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/library/AxiosLib.js",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/UserIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/LoadingIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/MemberIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BookClosedIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/PowerIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BookOpenIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/dashboard/Dashboard.jsx",["171","172"],"import { useEffect, useState } from 'react';\nimport { useStateGlobal } from '../../../utils/GlobalState';\nimport ReactApexChart from 'react-apexcharts';\n\nimport './Dashboard.css';\n\nexport default function Dashboard() {\n  const [state] = useStateGlobal();\n  const [borrower, setBorrower] = useState(0);\n  const [dataChart, setDataChart] = useState([]);\n\n  useEffect(() => {\n    let dtchrt = [];\n    document.title = 'Perpustakaan';\n    \n    //cari member yang punya pinjaman buku\n    if (state.member !== null) {\n      const rs = state.member.filter((e) => {\n        return e.borrowedBooks.length !== 0\n      });\n      setBorrower(rs.length);\n    }\n    //ini belum, work-in-progress\n    state.member &&\n      state.member\n        .filter((e) => {\n          return e.borrowedBooks.length !== 0;\n        })\n        .map((e) => {\n          return dtchrt.push({\n            x: e.name,\n            y: [\n              new Date(e.borrowedBooks.borrowedDate).getTime(),\n              new Date(e.borrowedBooks.schedule).getTime(),\n            ],\n          });\n        });\n    setDataChart(dtchrt);\n  }, [state]);\n  return (\n    <section className='dashboard content'>\n      <div>\n        <div>\n          <span>Total Buku</span>\n          <span>{state.book !== null ? state.book.length : 0}</span>\n        </div>\n        <div>\n          <span>Total Member</span>\n          <span>{state.member !== null ? state.member.length : 0}</span>\n        </div>\n        <div>\n          <span>Jumlah Peminjam</span>\n          <span>{borrower}</span>\n        </div>\n      </div>\n      {/* <div>\n        <span>Peminjam Buku</span>\n        {dataChart.length !== 0 && (\n          <ReactApexChart\n            options={{\n              chart: {\n                height: 350,\n                type: 'rangeBar',\n              },\n              plotOptions: {\n                bar: {\n                  horizontal: true,\n                },\n              },\n              xaxis: {\n                type: 'datetime',\n              },\n            }}\n            series={[\n              {\n                data: dataChart,\n              },\n            ]}\n            type='rangeBar'\n            height={350}\n          />\n        )}\n      </div> */}\n    </section>\n  );\n}\n","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/DashboardIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/borrowbook/BorrowBook.jsx",["173","174","175","176","177","178","179","180","181","182","183"],"import { useEffect, useState, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useStateGlobal } from '../../../utils/GlobalState';\nimport { patchData, getData } from '../../../library/AxiosLib';\nimport { GET_DATA, UPDATE_MEMBER } from '../../../utils/types';\nimport { ServerURL } from '../../../config/default.json';\nimport './BorrowBook.css';\n\nexport default function BorrowBook() {\n  const [memberNotBorrowBook, setMemberNotBorrowBook] = useState(null);\n  const [count, setCount] = useState([]);\n  const [inputBook, setInputBook] = useState([]);\n  const [nameBook, setNameBook] = useState([]);\n  const [inputMember, setInputMember] = useState('');\n  const [day, setDay] = useState();\n  const formRef = useRef();\n  const [state, dispatch] = useStateGlobal();\n\n  const history = useHistory();\n  const MAX_BORROW = 5\n\n  useEffect(() => {\n    if (state.member !== null && state.member !== undefined) {\n      //find members that can still borrow books\n      //i.e. members that have less than five borrowed books\n      const mmbrNtBr = state.member.filter((e) => {\n        return e.borrowedBooks.length < MAX_BORROW;\n      });\n      setMemberNotBorrowBook(mmbrNtBr);\n    }\n  }, [state]);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    dispatch({ type: UPDATE_MEMBER, loading: true });\n    \n    //update the data of the borrowed book\n    //particularly the number of available book is going to decrease by 1\n    inputBook.map(async (e) => {\n      const book = state.book.filter((f) => f._id === e);\n      const availableChange = book[0].available - 1;\n      await patchData(\n        `${ServerURL}/book/${e}`,\n        { available: availableChange },\n        localStorage.getItem('token')\n      );\n    });\n\n\n    //update member data\n\n    //find member data that was inputted into 'Peminjam Buku'\n    const member = state.member.filter(m=>{\n      if(m._id === inputMember)\n        return m\n    })[0]\n\n    //get the member's borrowedBooks data\n    //update the borrowedBooks data with new borrow book data\n    var borrowedBooks = member.borrowedBooks;\n    const date = new Date(Date.now() + 3600 * 1000 * day);\n    inputBook.forEach(b=>{\n      borrowedBooks.push({\n        book:b,\n        schedule:date\n      })\n    })\n\n    //send request to update member's borrowedBooks data \n    const changeMember = await patchData(\n      `${ServerURL}/member/${inputMember.substring(0, 24)}`,\n      {borrowedBooks},\n      localStorage.getItem('token')\n    );\n    \n    //as the transaction succesful, get data member \n    //and get data book again\n    if (changeMember) {\n      const getDataMember = await getData(\n        `${ServerURL}/member`,\n        localStorage.getItem('token')\n      );\n      const getDataBook = await getData(\n        `${ServerURL}/book`,\n        localStorage.getItem('token')\n      );\n      if (getDataMember && getDataBook) {\n        dispatch({\n          type: GET_DATA,\n          book: getDataBook.data.book,\n          member: getDataMember.data.member,\n          loading: false,\n        });\n        alert('success');\n        history.push('/home/kembali');\n      }\n    }\n  }\n\n  function handleClickPlus() {\n    if(inputMember !== ''){\n      //cari jumlah buku yang dipinjam member\n      const member = state.member.filter(m=>{\n        if(m._id === inputMember){\n          return m\n        }\n      })\n      const amountOfBorrowedBook = member[0].borrowedBooks.length\n      \n      //set jumlah input 'Tambah Buku'\n      if (count.length <= 4-amountOfBorrowedBook) {\n        setCount([...count, count.length + 1]);\n      }\n    }\n  }\n\n  function handleChangeBook(e) {\n    //cari data buku sesuai dengan yang diinputkan ke dalam input Tambah Buku\n    //set ke dalam array InputBook dan NameBook (list buku yang akan dipinjam)\n    const book = e.bookAvilable.filter(b=>{\n      if (b.title === e.target.value){\n        return b\n      }\n    })\n    if(book.length != 0){\n      setInputBook([\n        ...inputBook, \n        (inputBook[Number(e.target.id)] = book[0]._id)\n      ]);\n      setNameBook([\n        ...nameBook,\n        (nameBook[Number(e.target.id)] = book[0].title)\n      ]);\n    }\n  }\n\n  function handleOnchengeInputMember(e) {\n    //cari dan set data member sesuai dengan input ke dalam input member\n    //set ke variabel InputMember\n    const member = memberNotBorrowBook.filter(m=>{\n      if (m.name === e.target.value){\n        return m\n      }\n    })\n    if(member.length != 0)\n      setInputMember(member[0]._id);\n  }\n\n  //ubah hari ke dalam format 24 jam\n  function handleChangeDay(e) {\n    setDay(Number(e.target.value) * 24);\n  }\n\n  //render komponen BookInput (input buku yang bakal dipinjam)\n  //jumlahnya sama dengan variabel count\n  function generateBookInput(){\n    var bookInput = [];\n    for(var i=0;i<count.length;i++){\n      bookInput.push(\n        <BookInput\n          memberId={inputMember}\n          ocChangeProps={handleChangeBook}\n          key={i}\n          name={`inputBook${i}`}\n          id={i}\n          bookSelect={nameBook}\n        />\n      )\n    }\n    return bookInput;\n  }\n\n  return (\n    <section className='borrowbook content'>\n      <form onSubmit={handleSubmit} ref={formRef}>\n        <div>\n          <span>Pilih Peminjam</span>\n          <input\n            type=\"text\"\n            list='member'\n            placeholder='Pilih peminjam Buku'\n            onChange={handleOnchengeInputMember}\n          />\n          <datalist id='member'>\n            {memberNotBorrowBook !== null &&\n              memberNotBorrowBook.map((e) => {\n                return (\n                  <option key={e._id} value={e.name}>\n                    {e.name}\n                  </option>\n                );\n              })}\n          </datalist>\n        </div>\n        <div>\n          <span>Pilih Buku</span>\n          <button type='button' onClick={handleClickPlus}>\n            Tambah\n          </button>\n          {\n            generateBookInput()\n          }\n          <div className='inputHari'>\n            <input\n              type='number'\n              onChange={handleChangeDay}\n              min='1'\n              max='30'\n              required\n            />\n            <span>Hari</span>\n          </div>\n        </div>\n        <button type='submit'>Submit</button>\n      </form>\n    </section>\n  );\n}\n\n//This is the input box that shows up after we click tambah button\nfunction BookInput(props) {\n  const [bookAvilable, setBookAvilable] = useState(null);\n  const [state] = useStateGlobal();\n  const [book1, book2, book3, book4, book5] = props.bookSelect;\n\n  useEffect(() => {\n    if (state.book !== null && state.book !== undefined) {\n      //cari buku yang available (bisa dipinjam)\n      //kriterianya:\n      //  1. jumlahnya lebih dari 0\n      //  2. belum pernah dipinjam sebelumnya\n      //  3. tidak ada dalam daftar list BookInput (buku yang akan dipinjam)\n      const bookAvilable = state.book.filter((e) => {\n        var available=true;\n        if(props.memberId){\n          const member = state.member.filter(m=>{\n            if(m._id === props.memberId){\n              return m\n            }\n          })\n          const memberBorrowedBookIds = member[0].borrowedBooks.map(b=>{\n            return b.book\n          })\n          memberBorrowedBookIds.forEach(id=>{\n            if (e._id === id){\n              available=false;\n              return;\n            }\n          })\n          if(available == false){\n            return;\n          }\n\n          if(e.available !== 0 &&\n            e.title !== book1 &&\n            e.title !== book2 &&\n            e.title !== book3 &&\n            e.title !== book4 &&\n            e.title !== book5  \n          ){\n            return e\n          }\n        }\n      });\n      setBookAvilable(bookAvilable);\n    }\n  }, [state, book1, book2, book3, book4, book5]);\n\n  function handleChange(e) {\n    e.bookAvilable = bookAvilable;\n    props.ocChangeProps(e);\n  }\n\n  return (\n    <div>\n      <input\n        autoComplete=\"off\"\n        list='book'\n        name={props.name}\n        placeholder='Pilih buku yang di Pinjam'\n        onChange={handleChange}\n        id={props.id}\n      />\n      <datalist id='book'>\n        {bookAvilable !== null &&\n          bookAvilable.map((e, i) => {\n            return (\n              <option key={i} value={e.title}>\n                {e.title}\n              </option>\n            );\n          })}\n      </datalist>\n    </div>\n  );\n}\n","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/Member.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/ReturnBook.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BooksIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/Book.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/PlusIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/mcomponent/UpdateMemberModal.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/mcomponent/CreateMemberModal.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/mcomponents/UpdateBookModal.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/member/mcomponent/ListMember.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/mcomponents/ListBook.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/book/mcomponents/CreateBookModal.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/ListMember.jsx",["184"],"import IdCardIcon from '../../../../assets/icon/IdCardIcon';\nimport VeritifyUser from '../../../../assets/icon/VeritifyUser';\nimport RowBukuPinjam from './RowBukuPinjam';\nimport { useStateGlobal } from '../../../../utils/GlobalState';\n\nexport default function ListMember(props) {\n  \n  const [state, dispatch] = useStateGlobal();\n\n  return (\n    <div className='listMember'>\n      <div className=\"content\">\n        <VeritifyUser height='70px' width='70px' color='#5a32a3' />\n        <div className=\"info\">\n          <span>{props.name}</span>\n          <span> | </span>\n          <span>{props.kelas}</span>\n          <ol>\n            {props.borrowedBooks.map((b, i) => {\n              const bookData = state.book.filter((c) => c._id === b.book);\n              return (\n                <RowBukuPinjam key={i}\n                  bookData={bookData}\n                  b={b}//b is a single instance of a borrow record\n                  borrowedBooks={props.borrowedBooks}\n                  member_id = {props.id}\n                ></RowBukuPinjam>\n              )              \n            })}\n          </ol>\n        </div>\n      </div>\n      <IdCardIcon height='200px' width='200px' color='#e1e4e8' />\n    </div>\n  );\n}\n","/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/CloseIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/PenIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/TrashIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/IdCardIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/BookIcon.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/RowBukuPinjam.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/assets/icon/VeritifyUser.jsx",[],"/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/KembaliBukuModal.jsx",["185","186","187","188"],"import { useEffect, useRef, useState } from 'react';\nimport { useStateGlobal } from '../../../../utils/GlobalState';\nimport { ServerURL } from '../../../../config/default.json';\nimport { GET_DATA, UPDATE_MEMBER } from '../../../../utils/types';\nimport CloseIcon from '../../../../assets/icon/CloseIcon';\nimport { patchData, getData } from '../../../../library/AxiosLib';\nimport { useHistory } from 'react-router-dom';\n\nexport default function KembaliBukuModal({ handleGetRefKembaliBuku,book,borrowed,denda,borrowedBooks,member_id }) {\n  const modalCreate = useRef(null);\n  const formInput = useRef(null);\n  const [state, dispatch] = useStateGlobal();\n  \n  useEffect(() => {\n    handleGetRefKembaliBuku(modalCreate);\n  }, [handleGetRefKembaliBuku]);\n\n  function closeModalCrete() {\n    if(modalCreate.current)\n      modalCreate.current.style.visibility = 'hidden';\n  }\n\n  async function handleSubmitKembaliBuku(e) {\n    if (window.confirm('return books')) {\n      dispatch({ type: UPDATE_MEMBER, loading: true });\n      \n      //update data buku setelah dikembalikan\n      //when the book return, add 1 for the number of available book\n      const bookData = state.book.filter((c)=>c._id === borrowed.book)\n      const availableChange = bookData[0].available + 1;\n        await patchData(\n          `${ServerURL}/book/${borrowed.book}`,\n          { available: availableChange },\n          localStorage.getItem('token')\n        );\n\n      //update data member\n      //remove entri peminjaman yang mau dikembalikan dari list borrowedBooks\n      borrowedBooks = borrowedBooks.filter(borrowedBook=>{\n        if(borrowedBook.book != borrowed.book)\n          return borrowedBook\n      })\n      const changeMember = await patchData(\n        `${ServerURL}/member/${member_id}`,\n        {borrowedBooks},\n        localStorage.getItem('token')\n      );\n\n      //update data setelah pengembalian selesai\n      if (changeMember) {\n        const getDataMember = await getData(\n          `${ServerURL}/member`,\n          localStorage.getItem('token')\n        );\n        const getDataBook = await getData(\n          `${ServerURL}/book`,\n          localStorage.getItem('token')\n        );\n        if (getDataMember && getDataBook) {\n          dispatch({\n            type: GET_DATA,\n            book: getDataBook.data.book,\n            member: getDataMember.data.member,\n            loading: false,\n          });\n          alert('success');\n          closeModalCrete();\n        }\n      }\n    }\n    e.preventDefault();\n  }\n\n  return (\n    <div className='containerModalCreate modal kembali-buku-modal' ref={modalCreate}>\n      <div className=\"kembali-buku-modal\">\n        <form onSubmit={handleSubmitKembaliBuku} ref={formInput}>\n          <div>\n            <span>Kembali Buku ({book.title})</span>\n            <div onClick={closeModalCrete}>\n              <CloseIcon height='20px' width='20px' color='black' />\n            </div>\n          </div>\n          <span className=\"info\">Jadwal Kembali: {borrowed.schedule.substring(0, 10)}</span>\n          <span className=\"info\">Denda: {denda}</span>  \n          <button type='submit'>Kembali Buku</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","/home/ristirianto/perpustakaan_msi_zhafran/src/pages/home/returnbook/mcomponent/PerpanjangPeminjamanModal.jsx",["189","190"],"import { useEffect, useRef, useState } from 'react';\nimport { patchData, getData } from '../../../../library/AxiosLib';\nimport { useStateGlobal } from '../../../../utils/GlobalState';\nimport { ServerURL } from '../../../../config/default.json';\nimport { GET_DATA, UPDATE_MEMBER } from '../../../../utils/types';\nimport CloseIcon from '../../../../assets/icon/CloseIcon';\n\nexport default function PerpanjangPeminjamanModal({ handleGetRefPerpanjangPeminjaman,book,borrowed,borrowedBooks,denda,member_id }) {\n  const modalCreate = useRef(null);\n  const formInput = useRef(null);\n  const [day, setDay] = useState();\n  const [state, dispatch] = useStateGlobal();\n\n  useEffect(() => {\n    handleGetRefPerpanjangPeminjaman(modalCreate);\n  }, [handleGetRefPerpanjangPeminjaman]);\n\n  function closeModalCrete() {\n    if(modalCreate.current)\n      modalCreate.current.style.visibility = 'hidden';\n  }\n\n  async function handleSubmitPerpanjangPeminjaman(e) {\n    if (window.confirm('perpanjang peminjaman')) {\n      dispatch({ type: UPDATE_MEMBER, loading: true });\n      \n      //ubah schedule entri peminjaman yang mau diperpanjang dari list borrowedBooks\n      const currentScheduleDate=Date.parse(borrowed.schedule);\n      const newScheduledate = new Date(currentScheduleDate + 3600 * 1000 * day);    \n      borrowedBooks = borrowedBooks.map(borrowedBook=>{\n        if(borrowedBook.book == borrowed.book)\n          borrowedBook.schedule = newScheduledate\n        return borrowedBook\n      })\n\n      //update record borrowedBooks member\n      const data = {\n        borrowedBooks\n      }\n      const changeMember = await patchData(\n        `${ServerURL}/member/${member_id}`,\n        data,\n        localStorage.getItem('token')\n      );\n\n      //update data peminjaman buku\n      if (changeMember) {\n        const getDataMember = await getData(\n          `${ServerURL}/member`,\n          localStorage.getItem('token')\n        );\n        const getDataBook = await getData(\n          `${ServerURL}/book`,\n          localStorage.getItem('token')\n        );\n        if (getDataMember && getDataBook) {\n          dispatch({\n            type: GET_DATA,\n            book: getDataBook.data.book,\n            member: getDataMember.data.member,\n            loading: false,\n          });\n          alert('success');\n          closeModalCrete();\n        }\n      }\n    }\n    e.preventDefault();\n  }\n\n  function handleChangeDay(e) {\n    setDay(Number(e.target.value) * 24);//convert from days to hours\n  }\n\n  return (\n    <div className='containerModalCreate modal' ref={modalCreate}>\n      <div>\n        <form onSubmit={handleSubmitPerpanjangPeminjaman} ref={formInput}>\n          <div>\n            <span>Perpanjang Peminjaman ({book.title})</span>\n            <div onClick={closeModalCrete}>\n              <CloseIcon height='20px' width='20px' color='black' />\n            </div>\n          </div>\n          <span className=\"info\">Jadwal Kembali: {borrowed.schedule.substring(0, 10)}</span>\n          <span className=\"info\">Denda: {denda}</span>  \n          <div className='info inputHari inputHari-perpanjang-peminjaman-modal'>\n            <input\n              type='number'\n              onChange={handleChangeDay}\n              min='1'\n              max='30'\n              required\n            />\n            <span>Hari</span>\n          </div>\n          <button type='submit'>Submit</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n",["191","192"],{"ruleId":"193","replacedBy":"194"},{"ruleId":"195","replacedBy":"196"},{"ruleId":"197","severity":1,"message":"198","line":3,"column":8,"nodeType":"199","messageId":"200","endLine":3,"endColumn":22},{"ruleId":"197","severity":1,"message":"201","line":10,"column":10,"nodeType":"199","messageId":"200","endLine":10,"endColumn":19},{"ruleId":"202","severity":1,"message":"203","line":53,"column":41,"nodeType":"204","messageId":"205","endLine":53,"endColumn":43},{"ruleId":"202","severity":1,"message":"203","line":103,"column":43,"nodeType":"204","messageId":"205","endLine":103,"endColumn":45},{"ruleId":"202","severity":1,"message":"203","line":120,"column":41,"nodeType":"204","messageId":"205","endLine":120,"endColumn":43},{"ruleId":"206","severity":1,"message":"207","line":125,"column":20,"nodeType":"208","messageId":"209","endLine":125,"endColumn":22},{"ruleId":"202","severity":1,"message":"203","line":140,"column":48,"nodeType":"204","messageId":"205","endLine":140,"endColumn":50},{"ruleId":"206","severity":1,"message":"207","line":145,"column":22,"nodeType":"208","messageId":"209","endLine":145,"endColumn":24},{"ruleId":"202","severity":1,"message":"203","line":233,"column":50,"nodeType":"204","messageId":"205","endLine":233,"endColumn":52},{"ruleId":"202","severity":1,"message":"203","line":236,"column":47,"nodeType":"204","messageId":"205","endLine":236,"endColumn":49},{"ruleId":"206","severity":1,"message":"210","line":250,"column":24,"nodeType":"208","messageId":"209","endLine":250,"endColumn":26},{"ruleId":"202","severity":1,"message":"211","line":251,"column":13,"nodeType":"212","messageId":"213","endLine":251,"endColumn":20},{"ruleId":"214","severity":1,"message":"215","line":267,"column":6,"nodeType":"216","endLine":267,"endColumn":48,"suggestions":"217"},{"ruleId":"197","severity":1,"message":"218","line":8,"column":17,"nodeType":"199","messageId":"200","endLine":8,"endColumn":25},{"ruleId":"197","severity":1,"message":"219","line":1,"column":29,"nodeType":"199","messageId":"200","endLine":1,"endColumn":37},{"ruleId":"197","severity":1,"message":"220","line":7,"column":10,"nodeType":"199","messageId":"200","endLine":7,"endColumn":20},{"ruleId":"202","severity":1,"message":"203","line":39,"column":56,"nodeType":"204","messageId":"205","endLine":39,"endColumn":58},{"ruleId":"206","severity":1,"message":"207","line":40,"column":30,"nodeType":"208","messageId":"209","endLine":40,"endColumn":32},{"ruleId":"197","severity":1,"message":"221","line":12,"column":10,"nodeType":"199","messageId":"200","endLine":12,"endColumn":15},{"ruleId":"206","severity":1,"message":"210","line":31,"column":30,"nodeType":"208","messageId":"209","endLine":31,"endColumn":32},{"ruleId":"193","replacedBy":"222"},{"ruleId":"195","replacedBy":"223"},"no-native-reassign",["224"],"no-negated-in-lhs",["225"],"no-unused-vars","'ReactApexChart' is defined but never used.","Identifier","unusedVar","'dataChart' is assigned a value but never used.","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","Array.prototype.filter() expects a return value from arrow function.","ReturnStatement","expectedReturnValue","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.memberId'. Either include it or remove the dependency array.","ArrayExpression",["226"],"'dispatch' is assigned a value but never used.","'useState' is defined but never used.","'useHistory' is defined but never used.","'state' is assigned a value but never used.",["224"],["225"],"no-global-assign","no-unsafe-negation",{"desc":"227","fix":"228"},"Update the dependencies array to be: [state, book1, book2, book3, book4, book5, props.memberId]",{"range":"229","text":"230"},[7749,7791],"[state, book1, book2, book3, book4, book5, props.memberId]"]